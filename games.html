<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Cards</title>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Your CSS remains unchanged */
  </style>
</head>
<body>

  <div class="search-bar">
    <input type="text" placeholder="Search for a game..." id="search-input" oninput="filterGames()">
  </div>

  <div class="game-container" id="game-container">
    <!-- game cards will be inserted dynamically -->
  </div>

  <div id="iframe-container" class="iframe-container" style="display: none;">
    <span class="material-icons back-button" onclick="goBack()">arrow_back</span>
    <div class="loader"></div>
    <iframe id="game-iframe" src="" frameborder="0" onload="onIframeLoad()"></iframe>
  </div>

  <script>
    let gamesData = [
      {
        name: "Basket Random",
        image: "https://images.crazygames.com/basket-random_16x9/20240617090207/basket-random_16x9-cover.png",
        description: "placeholder",
        author: "Blobby Boi",
        url: "https://spew45.github.io/simple-games-assets/src/basket-random/"
      }
    ];

    function filterGames() {
      const searchQuery = document.getElementById('search-input').value.toLowerCase();
      const gameCards = document.querySelectorAll('.game-card');

      gameCards.forEach(card => {
        const gameName = card.getAttribute('data-game-name');
        if (gameName && gameName.toLowerCase().includes(searchQuery)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }

    function createGameCards() {
      const gameContainer = document.getElementById('game-container');
      gameContainer.innerHTML = '';

      gamesData.forEach(game => {
        const gameCard = document.createElement('div');
        gameCard.classList.add('game-card');
        gameCard.setAttribute('data-game-name', game.name);

        gameCard.innerHTML = `
          <img src="${game.image}" alt="Game Image">
          <div class="author-tag">${game.author}</div>
          <div class="overlay">
            <h3>${game.name}</h3>
            <p>${game.description}</p>
          </div>
        `;

        gameCard.onclick = () => openGameInIframe(game.url);
        gameContainer.appendChild(gameCard);
      });
    }

    function openGameInIframe(url) {
      const iframeContainer = document.getElementById('iframe-container');
      const iframe = document.getElementById('game-iframe');
      const loader = document.querySelector('.loader');
      
      iframe.src = url;
      iframeContainer.style.display = 'flex';
      document.body.style.overflow = 'hidden';

      loader.style.display = 'block';
    }

    function onIframeLoad() {
      document.querySelector('.loader').style.display = 'none';
      document.getElementById("game-iframe").style.display = "block";
    }

    function goBack() {
      const iframeContainer = document.getElementById('iframe-container');
      iframeContainer.style.display = 'none';
      document.getElementById('game-iframe').src = '';
      document.body.style.overflow = 'auto';
    }

    window.onload = createGameCards;
  </script>
</body>
</html>
